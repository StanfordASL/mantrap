
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>Visualisation &#8212; mantrap 0.1 documentation</title>
    <link rel="stylesheet" href="_static/pyramid.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Evaluation" href="evaluation.html" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Neuton&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nobile:regular,italic,bold,bolditalic&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->

  </head><body>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="evaluation.html" title="Evaluation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">mantrap 0.1 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-mantrap.visualization.prediction">
<span id="visualisation"></span><h1>Visualisation<a class="headerlink" href="#module-mantrap.visualization.prediction" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="mantrap.visualization.prediction.visualize_prediction">
<code class="sig-prename descclassname">mantrap.visualization.prediction.</code><code class="sig-name descname">visualize_prediction</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">env</span><span class="p">:</span> <span class="n"><a class="reference internal" href="environment.html#mantrap.environment.base.graph_based.GraphBasedEnvironment" title="mantrap.environment.base.graph_based.GraphBasedEnvironment">mantrap.environment.base.graph_based.GraphBasedEnvironment</a></span></em>, <em class="sig-param"><span class="n">ego_planned</span><span class="p">:</span> <span class="n">torch.Tensor</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ado_planned</span><span class="p">:</span> <span class="n">torch.Tensor</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ado_planned_wo</span><span class="p">:</span> <span class="n">torch.Tensor</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ego_goal</span><span class="p">:</span> <span class="n">torch.Tensor</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">legend</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">file_path</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ax</span><span class="p">:</span> <span class="n">matplotlib.axes._axes.Axes</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mantrap.visualization.prediction.visualize_prediction" title="Permalink to this definition">¶</a></dt>
<dd><p>Visualize robot/ado trajectories and distributions.</p>
<blockquote>
<div><p>Draw trajectories in (quadratic) plot, thereby differentiate the actual trajectories from the
baseline trajectories (without) using a different line markup. Also add little dots (<cite>plt.Circle</cite>) at the
agents current positions.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ado_planned_wo</strong> – ado trajectories without robot (num_ados, num_samples, t_horizon + 1, num_modes = 1,  5).</p></li>
<li><p><strong>env</strong> – simulation environment, just used statically here (e.g. to convert ids to agents, roll out
trajectories, etc.).</p></li>
<li><p><strong>ego_planned</strong> – planned/optimized ego trajectory (t_horizon + 1, 5).</p></li>
<li><p><strong>ado_planned</strong> – according ado trajectory conditioned on ego_planned (num_ados, num_samples, t_horizon + 1, 1, 5).</p></li>
<li><p><strong>ego_goal</strong> – optimization robot goal state.</p></li>
<li><p><strong>legend</strong> – draw legend in paths plot (might be a mess for many agents).</p></li>
<li><p><strong>file_path</strong> – storage path, if None return as HTML video object.</p></li>
<li><p><strong>ax</strong> – optionally the plot can be drawn in an already existing axis.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-mantrap.visualization.optimization"></span><dl class="py function">
<dt id="mantrap.visualization.optimization.visualize_optimization">
<code class="sig-prename descclassname">mantrap.visualization.optimization.</code><code class="sig-name descname">visualize_optimization</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ego_planned</span><span class="p">:</span> <span class="n">torch.Tensor</span></em>, <em class="sig-param"><span class="n">ado_planned</span><span class="p">:</span> <span class="n">List<span class="p">[</span>torch.Tensor<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">ado_planned_wo</span><span class="p">:</span> <span class="n">List<span class="p">[</span>torch.Tensor<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">env</span><span class="p">:</span> <span class="n"><a class="reference internal" href="environment.html#mantrap.environment.base.graph_based.GraphBasedEnvironment" title="mantrap.environment.base.graph_based.GraphBasedEnvironment">mantrap.environment.base.graph_based.GraphBasedEnvironment</a></span></em>, <em class="sig-param"><span class="n">ego_goal</span><span class="p">:</span> <span class="n">torch.Tensor</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">legend</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">frame_interval</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">400</span></em>, <em class="sig-param"><span class="n">restart_delay</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">2000</span></em>, <em class="sig-param"><span class="n">file_path</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mantrap.visualization.optimization.visualize_optimization" title="Permalink to this definition">¶</a></dt>
<dd><p>Visualize robot/ado trajectories and distributions over full optimization (multiple time-steps).</p>
<blockquote>
<div><p>Draw trajectories in (quadratic) plot, thereby differentiate the actual trajectories from the
baseline trajectories (without) using a different line markup. Also add little dots (<cite>plt.Circle</cite>) at the
agents current positions.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ado_planned_wo</strong> – ado trajectories without robot
(time-steps, num_ados, num_samples, t_horizon + 1, num_modes = 1,  5).</p></li>
<li><p><strong>env</strong> – simulation environment, just used statically here (e.g. to convert ids to agents, roll out
trajectories, etc.).</p></li>
<li><p><strong>ego_planned</strong> – planned/optimized ego trajectory (time-step, t_horizon + 1, 5).</p></li>
<li><p><strong>ado_planned</strong> – according ado trajectory conditioned on ego_planned
(time-steps, num_ados, num_samples, t_horizon + 1, 1, 5).</p></li>
<li><p><strong>ego_goal</strong> – optimization robot goal state.</p></li>
<li><p><strong>legend</strong> – draw legend in paths plot (might be a mess for many agents).</p></li>
<li><p><strong>file_path</strong> – storage path, if None return as HTML video object.</p></li>
<li><p><strong>frame_interval</strong> – video frame displaying time interval [ms].</p></li>
<li><p><strong>restart_delay</strong> – video restart delay time interval [ms].</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-mantrap.visualization.heat_map"></span><dl class="py function">
<dt id="mantrap.visualization.heat_map.visualize_heat_map">
<code class="sig-prename descclassname">mantrap.visualization.heat_map.</code><code class="sig-name descname">visualize_heat_map</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">images</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">bounds</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>Tuple<span class="p">[</span>float<span class="p">, </span>float<span class="p">]</span><span class="p">, </span>Tuple<span class="p">[</span>float<span class="p">, </span>float<span class="p">]</span><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">color_bounds</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>float<span class="p">, </span>float<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">choices</span><span class="p">:</span> <span class="n">numpy.ndarray</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">resolution</span><span class="p">:</span> <span class="n">float</span> <span class="o">=</span> <span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">title</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ax_labels</span><span class="p">:</span> <span class="n">Tuple<span class="p">[</span>str<span class="p">, </span>str<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">file_path</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mantrap.visualization.heat_map.visualize_heat_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Visualize the given images as heat-maps.</p>
<p>The images are plotted as an animation (GIF) and labeled using the boundaries defined in <cite>bounds</cite>.
Additionally, e.g. for the visualization of objective and constraint violation values, the “choices”
made can be added to the plot, e.g. if the images are objective values in dependence on some optimization
variable, then the variables chosen by the optimizer can be visualized.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>images</strong> – heat-map images to plot (#steps, Nx, Ny).</p></li>
<li><p><strong>bounds</strong> – lower and upper bounds for image dimensions ((lower1, lower2), (upper1, upper2)).</p></li>
<li><p><strong>color_bounds</strong> – min and max value for heat-map color-bar, a_min and a_max if None.</p></li>
<li><p><strong>choices</strong> – chosen variables as described above (#steps, 2).</p></li>
<li><p><strong>resolution</strong> – image resolution to convert discrete image grid points to bounds.</p></li>
<li><p><strong>title</strong> – figure title, only steps-title if None.</p></li>
<li><p><strong>ax_labels</strong> – axes labels tuple, no labels if None.</p></li>
<li><p><strong>file_path</strong> – gif storage path (if None, then output is HTML5 video !).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-mantrap.visualization.trajectories"></span></div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="evaluation.html"
                        title="previous chapter">Evaluation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/visualisation.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="evaluation.html" title="Evaluation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">mantrap 0.1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Simon Schaefer.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.0.4.
    </div>
  </body>
</html>